<html>
  <head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>构建微服务，你需要了解Spring Boot | Ahualy</title>
<link rel="shortcut icon" href=" https://ahualy.github.io//favicon.ico?v=1560141377951">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href=" https://ahualy.github.io//styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href=" https://ahualy.github.io/">
  <img class="avatar" src=" https://ahualy.github.io//images/avatar.png?v=1560141377951" alt="">
  </a>
  <h1 class="site-title">
    Ahualy
  </h1>
  <p class="site-description">
    翎幺
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href=" https://ahualy.github.io//post/hadoop-first/" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about-ahualy" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/ahualy" target="_blank">
          <i class="fab fa-github"></i>
        </a>
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

      
        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              构建微服务，你需要了解Spring Boot
            </h2>
            <div class="post-info">
              <time class="post-time">
                · 2019-05-29 ·
              </time>
              
            </div>
            
            <div class="post-content">
              <h4 id="1什么是spring-boot">1.什么是Spring Boot</h4>
<p>Spring Boot 是由 Pivotal 团队提供的全新框架，其设计目的是用来简化新 Spring 应用的初始搭建以及开发过程。该框架使用了特定的方式来进行配置，从而使开发人员不再需要定义样板化的配置。用我的话来理解，就是 Spring Boot 其实不是什么新的框架，（从本质上来说，Spring Boot就是Spring）它默认配置了很多框架的使用方式，就像 Maven 整合了所有的 Jar 包，Spring Boot 整合了所有的框架。它做了那些没有它你也会去做的Spring Bean配置。它使用“习惯优于配置”（项目中存在大量的配置，此外还内置了一个习惯性的配置，让你无需手动进行配置）的理念让你的项目快速运行起来。使用Spring Boot很容易创建一个独立运行（运行jar,内嵌Servlet容器）、准生产级别的基于Spring框架的项目，使用Spring Boot你可以不用或者只需要很少的Spring配置。</p>
<p><strong>简而言之</strong></p>
<ul>
<li>用来简化spring应用的初始搭建以及开发过程 使用特定的方式来进行配置（properties或yml文件）</li>
<li>创建独立的spring引用程序 main方法运行</li>
<li>嵌入的Tomcat 无需部署war文件</li>
<li>简化maven配置</li>
<li>自动配置spring添加对应功能starter自动化配置</li>
</ul>
<h4 id="2springboot常用的starter有哪些">2.springboot常用的starter有哪些</h4>
<ul>
<li>spring-boot-starter-web 嵌入tomcat和web开发需要servlet与jsp支持</li>
<li>spring-boot-starter-data-jpa 数据库支持</li>
<li>spring-boot-starter-data-redis redis数据库支持</li>
<li>spring-boot-starter-data-solr solr支持</li>
<li>mybatis-spring-boot-starter 第三方的mybatis集成starter</li>
</ul>
<h4 id="3springboot自动配置的原理">3.springboot自动配置的原理</h4>
<p>在spring程序main方法中 添加@SpringBootApplication或者@EnableAutoConfiguration<br>
会自动去maven中读取每个starter中的spring.factories文件  该文件里配置了所有需要被创建spring容器中的bean</p>
<h4 id="4springboot读取配置文件的方式">4.springboot读取配置文件的方式</h4>
<p>springboot默认读取配置文件为application.properties或者是application.yml</p>
<h4 id="5springboot如何添加修改代码自动重启功能">5.springboot如何添加【修改代码】自动重启功能</h4>
<p>添加开发者工具集=====spring-boot-devtools</p>
<h4 id="6什么是微服务">6.什么是微服务</h4>
<ul>
<li>以前的模式是 所有的代码在同一个工程中 部署在同一个服务器中 同一个项目的不同模块不同功能互相抢占资源</li>
<li>微服务 将工程根据不同的业务规则拆分成微服务 微服务部署在不同的机器上 服务之间进行相互调用</li>
<li>Java微服务的框架有 dubbo（只能用来做微服务），spring cloud（提供了服务的发现，断路器等）</li>
</ul>
<h4 id="7springcloud如何实现服务的注册和发现">7.springcloud如何实现服务的注册和发现</h4>
<p>服务在发布时指定对应的服务名（服务名包括了IP地址和端口） 将服务注册到注册中心（eureka或者zookeeper）<br>
 这一过程是springcloud自动实现 只需要在main方法添加@EnableDisscoveryClient  同一个服务修改端口就可以启动多个实例<br>
 调用方法：传递服务名称通过注册中心获取所有的可用实例 通过负载均衡策略调用（ribbon和feign）对应的服务</p>
<h4 id="8ribbon和feign区别">8.Ribbon和Feign区别</h4>
<p><strong>Ribbon和Feign都是用于调用其他服务的，不过方式不同。</strong><br>
   1.启动类使用的注解不同，Ribbon用的是@RibbonClient，Feign用的是@EnableFeignClients。
   2.服务的指定位置不同，Ribbon是在@RibbonClient注解上声明，Feign则是在定义抽象方法的接口中使用@FeignClient声明。
   3.调用方式不同
   * Ribbon需要自己构建http请求，模拟http请求然后使用RestTemplate发送给其他服务，步骤相当繁琐。
   * Feign则是在Ribbon的基础上进行了一次改进，采用接口的方式，将需要调用的其他服务的方法定义成抽象方法即可，不需要自己构建http请求。不过要注意的是抽象方法的注解、方法签名要和提供服务的方法完全一致。</p>
<ul>
<li>Ribbon添加maven依赖 spring-starter-ribbon 使用@RibbonClient(value=&quot;服务名称&quot;) 使用RestTemplate 调用远程服务对应的方法
 * feign添加maven依赖 spring-starter-feign 服务提供方提供对外接口 调用方使用 在接口上使用@FeignClient(&quot;指定服务名&quot;)</li>
</ul>
<h4 id="9springcloud断路器的作用">9.springcloud断路器的作用</h4>
<ul>
<li>当一个服务调用另一个服务由于网络原因或者自身原因出现问题时 调用者就会等待被调用者的响应 当更多的服务请求到这些资源时，导致更多的请求等待 这样就会发生连锁效应（雪崩效应） 断路器就是解决这一问题。</li>
<li>断路器有完全打开状态，一定时间内 达到一定的次数无法调用 并且多次检测没有恢复的迹象 断路器完全打开，那么下次请求就不会请求到该服务；半开 短时间内 有恢复迹象 断路器会将部分请求发给该服务 当能正常调用时 断路器关闭</li>
</ul>

            </div>
          </article>
        </div>
    
        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href=" https://ahualy.github.io//post/java-pool">
              <h3 class="post-title">
                Java 线程池
              </h3>
            </a>
          </div>  
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '6e5bf68152a48928afe7',
    clientSecret: '9fc75f6b2af7f297c3de1ce161b8f025ead74ae7',
    repo: 'ahualy.github.io',
    owner: 'ahualy',
    admin: ['ahualy'],
    id: location.pathname,      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        
    
        <div class="site-footer">
  Powered by 
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

      </div>
    </div>
  </body>
</html>
